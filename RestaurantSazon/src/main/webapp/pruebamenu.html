<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<title>Menu con carrito</title>
<style>
.dish-card {
  border: 1px solid #ccc; padding: 10px; margin: 10px; width: 220px;
  display: inline-block; vertical-align: top; font-family: Arial, sans-serif;
}
.quantity-controls button {
  width: 25px; height: 25px; font-weight: bold;
}
.quantity-value {
  display: inline-block; width: 30px; text-align: center;
}
.add-btn {
  margin-top: 10px; background-color: #c86d05; color: white; border: none;
  padding: 5px 10px; cursor: pointer; border-radius: 5px;
}
</style>
</head>
<body>

<div class="dish-card">
  <img src="Imagenes/tacos.jpg" alt="Tacos" width="200" />
  <h3 class="dish-name">Tacos de Pollo</h3>
  <p class="dish-description">Tacos de pollo con salsa verde.</p>
  <p class="dish-price">$85.00</p>

  <div class="quantity-controls">
    <button class="quantity-btn decrement">-</button>
    <span class="quantity-value">1</span>
    <button class="quantity-btn increment">+</button>
  </div>

  <button class="add-btn">Agregar</button>
</div>

<script>
document.querySelectorAll('.dish-card').forEach(card => {
  const decrementBtn = card.querySelector('.quantity-btn.decrement');
  const incrementBtn = card.querySelector('.quantity-btn.increment');
  const quantityValue = card.querySelector('.quantity-value');

  decrementBtn.addEventListener('click', () => {
    let cantidad = parseInt(quantityValue.textContent);
    if (cantidad > 1) {
      cantidad--;
      quantityValue.textContent = cantidad;
    }
  });

  incrementBtn.addEventListener('click', () => {
    let cantidad = parseInt(quantityValue.textContent);
    cantidad++;
    quantityValue.textContent = cantidad;
  });

  const addBtn = card.querySelector('.add-btn');
  addBtn.addEventListener('click', () => {
    const nombre = card.querySelector('.dish-name').textContent.trim();
    const descripcion = card.querySelector('.dish-description').textContent.trim();
    const imagen = card.querySelector('img').src;
    const precioTexto = card.querySelector('.dish-price').textContent.trim();
    const precio = parseFloat(precioTexto.replace('$', ''));
    const cantidad = parseInt(quantityValue.textContent);

    // Obtener carrito del localStorage o crear uno vacÃ­o
    let carrito = JSON.parse(localStorage.getItem('carrito')) || [];

    // Buscar producto en carrito
    const index = carrito.findIndex(p => p.name === nombre);
    if (index >= 0) {
      carrito[index].quantity += cantidad;
    } else {
      carrito.push({
        name: nombre,
        description: descripcion,
        image: imagen,
        price: precio,
        quantity: cantidad
      });
    }

    localStorage.setItem('carrito', JSON.stringify(carrito));
    alert(`Agregaste ${cantidad} ${nombre}(s) al carrito.`);
    console.log('Carrito:', carrito);
  });
});
</script>

</body>
</html>
